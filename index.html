<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Cube Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tween.js@18.6.4/dist/tween.esm.js"></script>
    <script>
        let camera, scene, renderer, cube, cubeTween;
        let cubePosition = { x: 0, y: 0, z: 0 };
        let cubeSpeed = 2;

        init();
        animate();

        function init() {
            camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
            camera.position.z = 5;

            scene = new THREE.Scene();

            const geometry = new THREE.BoxGeometry();
            const material = new THREE.MeshBasicMaterial( { color: 0x808080 } );
            cube = new THREE.Mesh( geometry, material );
            scene.add( cube );

            renderer = new THREE.WebGLRenderer( { antialias: true } );
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

            window.addEventListener( 'keydown', onKeyDown, false );
        }

        function animate() {
            requestAnimationFrame( animate );

            if (cubeTween) {
                cubePosition.x = cube.position.x;
                cubePosition.y = cube.position.y;
                cubePosition.z = cube.position.z;
            }

            renderer.render( scene, camera );
        }

        function onKeyDown( event ) {
            switch ( event.code ) {
                case 'KeyA':
                    moveCubeLeft();
                    break;
                case 'KeyD':
                    moveCubeRight();
                    break;
            }
        }

        function moveCubeLeft() {
            if (!cubeTween || !cubeTween.isPlaying()) {
                cubeTween = new TWEEN.Tween(cubePosition)
                    .to({ x: -2.5 }, cubeSpeed * 1000)
                    .easing(TWEEN.Easing.Quadratic.Out)
                    .onUpdate(() => {
                        cube.position.x = cubePosition.x;
                    })
                    .start();
            }
        }

        function moveCubeRight() {
            if (!cubeTween || !cubeTween.isPlaying()) {
                cubeTween = new TWEEN.Tween(cubePosition)
                    .to({ x: 2.5 }, cubeSpeed * 1000)
                    .easing(TWEEN.Easing.Quadratic.Out)
                    .onUpdate(() => {
                        cube.position.x = cubePosition.x;
                    })
                    .start();
            }
        }
    </script>
</body>
</html>
